
	{# Current route #}
{% set currentRoute = app.request.attributes.get('_route') %}

{# Sidebar menu configuration #}
{% set sidebar = [
    {
        title: 'Categories',
        icon: 'fas fa-fw fa-cog',
        id: 'categories',
        routes: ['app_category_new', 'app_category_index'],
        items: [
            { label: 'Add New Category', route: 'app_category_new' },
            { label: 'Category List',   route: 'app_category_index' }
        ]
    },
    {
        title: 'Business',
        icon: 'fas fa-fw fa-cog',
        id: 'business',
        routes: ['app_business_index', 'app_business_new'],
        items: [
            { label: 'Show All Business', route: 'app_business_index' },
            { label: 'Add New Business',  route: 'app_business_new' }
        ]
    }
] %}

	<ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

    <!-- Brand -->
    <a class="sidebar-brand d-flex align-items-center justify-content-center"
       href="{{ path('app_business_index') }}">
        <div class="sidebar-brand-text mx-3">
            Appointo
            <div><small>Super Admin Area</small></div>
        </div>
    </a>

    <hr class="sidebar-divider my-0">

    <!-- Dashboard -->
    <li class="nav-item {{ currentRoute == 'app_business_index' ? 'active' : '' }}">
        <a class="nav-link" href="{{ path('app_business_index') }}">
            <i class="fas fa-fw fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </a>
    </li>

    <hr class="sidebar-divider">

    <!-- Dynamic Menus -->
    {% for menu in sidebar %}
        <li class="nav-item">

            <a class="nav-link collapsed"
               href="#"
               data-toggle="collapse"
               data-target="#{{ menu.id }}">
                <i class="{{ menu.icon }}"></i>
                <span>{{ menu.title }}</span>
            </a>

            <div id="{{ menu.id }}"
                 class="collapse {{ currentRoute in menu.routes ? 'show' : '' }}"
                 data-parent="#accordionSidebar">

                <div class="bg-white py-2 collapse-inner rounded">
                    {% for item in menu.items %}
                        <a class="collapse-item {{ currentRoute == item.route ? 'active' : '' }}"
                           href="{{ path(item.route) }}">
                           {{ item.label }}
                        </a>
                    {% endfor %}
                </div>

            </div>
        </li>
    {% endfor %}

</ul>
